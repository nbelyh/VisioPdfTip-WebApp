import{j as e,D as u}from"./DropZone.9cd9475e.js";import{r as t}from"./index.ed373d49.js";const k=S=>{const[i,l]=t.useState(""),[g,c]=t.useState(!1),[r,x]=t.useState(),[n,f]=t.useState(),[p,v]=t.useState(0),[d,b]=t.useState(0),[m,j]=t.useState("#ffffe0"),[h,N]=t.useState("Note"),w=["NoIcon","Comment","Help","Insert","Key","NewParagraph","Note","Paragraph"],y=()=>{if(!r||!n){l("Please select both PDF and VSDX files");return}var o=new FormData;o.append("pdf",r),o.append("vsdx",n),o.append("color",m),o.append("icon",h),o.append("x",p.toString()),o.append("y",d.toString()),c(!0),l(""),fetch("https://visiopdftip.azurewebsites.net/api/AddTooltipsFunction",{method:"POST",body:o}).then(s=>s.blob()).then(s=>{var D=window.URL.createObjectURL(s),a=document.createElement("a");a.download=`Tooltips_${r.name}`,a.target="_blank",a.href=D,a.click()}).catch(s=>{l(s.message)}).finally(()=>{c(!1)})};return e.jsxs("div",{children:[!!i&&e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-10 alert alert-danger mt-3",children:[e.jsx("strong",{children:"Ups! Something went wrong"}),". Please make sure you have selected the exported PDF file and the original VSDX file, or reload the page and try again: ",i,". If it the problem persists, please report an issue to our",e.jsx("a",{href:"https://github.com/nbelyh/visiopdftip-webapp/issues",target:"_blank",children:"GitHub"})]})}),e.jsxs("div",{className:"row",children:[e.jsx(u,{accept:"application/pdf",sampleFileName:"Drawing1.pdf",label:"Drop a PDF file (without tooltips) that you have exported from Visio here",onChange:x}),e.jsx(u,{accept:"application/vnd.ms-visio.drawing",sampleFileName:"Drawing1.vsdx",label:"Drop the original Visio VSDX file to copy the tooltips from here",onChange:f})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"form-group col-lg-2 col-md-6",children:[e.jsx("label",{htmlFor:"tooltip-x",children:"Tooltip X location:"}),e.jsx("input",{type:"number",id:"tooltip-x",value:p,className:"form-control",onChange:o=>v(Number.parseInt(o.target.value))})]}),e.jsxs("div",{className:"form-group col-lg-2 col-md-6",children:[e.jsx("label",{htmlFor:"tooltip-y",children:"Tooltip Y location:"}),e.jsx("input",{type:"number",id:"tooltip-y",value:d,className:"form-control",onChange:o=>b(Number.parseInt(o.target.value))})]}),e.jsxs("div",{className:"form-group col-lg-2 col-md-6",children:[e.jsx("label",{htmlFor:"color-picker",children:"Tooltip color:"}),e.jsx("input",{type:"color",id:"color-picker",style:{height:"2.25rem"},value:m,className:"form-control",onChange:o=>j(o.target.value)})]}),e.jsxs("div",{className:"form-group col-lg-2 col-md-6",children:[e.jsx("label",{htmlFor:"icon-picker",children:"Tooltip Icon:"}),e.jsx("select",{id:"icon-picker",className:"form-control",value:h,onChange:o=>N(o.target.value),children:w.map(o=>e.jsx("option",{value:o,children:o},o))})]})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"alert mt-3",children:[e.jsx("strong",{children:"Note:"})," Some options (such as tooltip color and icon type) may not work in all PDF viewers. Check in ",e.jsx("a",{href:"https://get.adobe.com/reader/",target:"_blank",rel:"noopener noreferrer",children:"Adobe PDF viewer"}),"."]})}),e.jsx("button",{onClick:y,className:"btn btn-primary",disabled:g||!r||!n,children:"Add comments to PDF!"})]})};export{k as PdfTip};
